
		################################################
		#
		#		THE GREE-TECH CHALLENGE: File Global.R
		#
		###############################################



#-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#

#-----------------------------------------------------------------------------
# --- LOAD LIBRARIES
#-----------------------------------------------------------------------------
library(sp)
library(shiny)
library(plotly)
library(ggplot2)
library(DT)
library(RColorBrewer)
library(streamgraph)
library(leaflet)
library(ggmap)
library(tidyr)
library(shinydashboard)
library(treemap)
library(d3treeR)
library(shinyjs)
#library(shiny.router)
		
# Pour d3trrR:
#library(devtools)
#install_github("timelyportfolio/d3treeR")

#devtools::install_github("Appsilon/shiny.router")

# Pour shinyjs
#install.packages("shinyjs")
#install.packages("V8")

# useless?
#library(shinythemes)
#library(shinyAce)
#library(colourpicker)
#-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#









#-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#

#-----------------------------------------------------------------------------
# --- LOAD USEFUL FUNCTIONS
#-----------------------------------------------------------------------------

#source("SwitchButton.R")
#fonction pour la geoloc
jsCode <- '
shinyjs.geoloc = function() {
	navigator.geolocation.getCurrentPosition(onSuccess, onError);
	function onError (err) {
		Shiny.onInputChange("geolocation", false);
	}
	function onSuccess (position) {
		setTimeout(function () {
			var coords = position.coords;
			console.log(coords.latitude + ", " + coords.longitude);
			Shiny.onInputChange("geolocation", true);
			Shiny.onInputChange("lat", coords.latitude);
			Shiny.onInputChange("long", coords.longitude);
		}, 5)
	}
};
'

#-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#








#-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#

#-----------------------------------------------------------------------------
# --- LOAD THE CSV FILE OF THE DATABASE
#-----------------------------------------------------------------------------

# Toutes les donnÃ©es sont dispo dans un environnement R grace au script 0_prepare_data
load("DATA/env_greentech.R")
ls()

#-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------#








# -------------------------------------------------------------------------------------------------------------------------------------------------
# ---- CREATE A COLOR PALETTE

my_colors=brewer.pal( 12 , "Set3")[-2]

# -------------------------------------------------------------------------------------------------------------------------------------------------



		


